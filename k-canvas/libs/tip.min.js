function Tip(a){extendObject(a,this)}Tip.prototype={getElementId:function(){return this.canvas.id+"_tip"},_getRightLimit:function(){return this.canvasRange.x+this.canvasRange.width},_getLeftLimit:function(){return this.canvasRange.x},_getTopLimit:function(){return this.canvasRange.y},_getBottomLimit:function(){return this.canvasRange.y+this.canvasRange.height},show:function(c,e){if(c){this.relativePoint=c}if(e){this.innerHTML=e}var m=$id(this.getElementId());var n=this.size;var d=this.offsetToPoint;var f=this.position;var c=this.relativePoint;var j=getPageCoord(this.canvas);var i=f.y||c.y;var l=f.x||c.x;var k=0;var h=0;if(f.x){k=f.x}else{if(m){var b=parseInt(m.style.left)-j.x;if(b>l){if(d+l+n.width>this._getRightLimit()){b=l-d-n.width}else{b=l+d}}else{if(l-d-n.width>this._getLeftLimit()){b=l-d-n.width}else{b=l+d}}k=b}else{k=l+d;if(k>this._getRightLimit()){k=l-d-n.width}}}if(f.y){h=f.y}else{if(m){var a=parseInt(m.style.top)-j.y;if(a>i){if(d+i+n.height>this._getBottomLimit()){a=i-d-n.height}else{a=i+d}}else{if(i-d-n.height>this._getTopLimit()){a=i-d-n.height}else{a=i+d}}h=a}else{h=i+d;if(h>this._getBottomLimit()){h=i-d-n.height}}}if(!m){m=document.createElement("DIV");m.id=this.getElementId();var g=this.opacity||100;m.style.cssText="-moz-opacity:."+g+"; filter:alpha(opacity="+g+"); opacity:"+(g/100)+';line-height:18px;font-family:Arial,"宋体";font-size:9pt;padding:4px;';m.style.position="absolute";m.style.zIndex=4+(this.canvas.style.zIndex||1);m.style.backgroundColor="white";m.style.border="1px solid gray";m.style.width=this.size.width+"px";m.style.height=this.size.height+"px";if(this.cssClass){m.className=this.cssClass}document.body.appendChild(m)}k=j.x+k;h=j.y+h;m.style.left=k+"px";m.style.top=h+"px";m.style.display="block";m.innerHTML=this.innerHTML},hide:function(){var a=$id(this.getElementId());if(a){a.style.display="none"}},update:function(b,a){this.relativePoint=b;this.innerHTML=a;this.show()}};